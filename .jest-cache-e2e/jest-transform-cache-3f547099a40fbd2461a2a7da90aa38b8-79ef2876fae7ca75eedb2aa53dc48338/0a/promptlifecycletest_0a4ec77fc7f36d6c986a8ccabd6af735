e5419c5ccafebb4e403b1b5db1a6b293
const PromptVersionManager = require('../../../src/enrichment/PromptVersionManager');
const LLMProviderManager = require('../../../src/enrichment/LLMProviderManager');
const fs = require('fs').promises;
const path = require('path');
describe('Prompt Lifecycle E2E Tests', () => {
  let promptManager;
  let llmManager;
  let testDir;
  beforeAll(async () => {
    // Create temporary test directory
    testDir = path.join(__dirname, '../../../temp/test-prompts-e2e');
    try {
      await fs.mkdir(testDir, {
        recursive: true
      });
    } catch (error) {
      // Directory might already exist
    }
  });
  beforeEach(async () => {
    // Clean test directory
    try {
      const files = await fs.readdir(testDir);
      await Promise.all(files.map(file => fs.unlink(path.join(testDir, file)).catch(() => {})));
    } catch (error) {
      // Directory might not exist
    }

    // Mock fetch for LLM calls
    global.fetch = jest.fn().mockImplementation((url, options) => {
      const body = JSON.parse(options.body);
      const prompt = body.messages?.[0]?.content || body.prompt || '';

      // Simulate different responses based on prompt content
      let response = 'Default LLM response';
      if (prompt.includes('Focus on') || prompt.includes('Main themes') || prompt.includes('summary')) {
        response = 'This is a comprehensive summary of the document content with key insights and main points.';
      } else if (prompt.includes('sentiment') || prompt.includes('analyze') || prompt.includes('emotional tone')) {
        response = 'The sentiment analysis shows positive sentiment with a confidence score of 85%.';
      } else if (prompt.includes('entities') || prompt.includes('Extract') || prompt.includes('Person') || prompt.includes('Location')) {
        response = 'Extracted entities include: Person: John Doe, Location: New York, Date: 2024-01-01';
      } else if (prompt.includes('content-extraction') || prompt.includes('Extract the main content')) {
        response = 'Extracted content: This document contains important information about data processing.';
      } else if (prompt.includes('quality-assessment') || prompt.includes('Assess the quality')) {
        response = 'Quality assessment: High quality content with good structure and clarity.';
      } else if (prompt.includes('metadata-enhancement') || prompt.includes('Enhance the metadata')) {
        response = 'Enhanced metadata: Category: Technical, Complexity: Medium, Audience: Professional';
      }
      return Promise.resolve({
        ok: true,
        json: async () => ({
          choices: [{
            message: {
              content: response
            },
            finish_reason: 'stop'
          }],
          usage: {
            prompt_tokens: prompt.length / 4,
            // Rough estimate
            completion_tokens: response.length / 4,
            total_tokens: (prompt.length + response.length) / 4
          },
          model: 'gpt-3.5-turbo'
        })
      });
    });

    // Initialize managers
    promptManager = new PromptVersionManager({
      promptsDirectory: testDir,
      gitEnabled: false,
      // Disable git for E2E tests
      autoCommit: false
    });
    llmManager = new LLMProviderManager({
      openai: {
        apiKey: 'test-key-e2e',
        model: 'gpt-3.5-turbo',
        maxRetries: 1,
        timeout: 5000
      },
      prompts: {
        promptsDirectory: testDir,
        gitEnabled: false
      }
    });
    await promptManager.initialize();
    await llmManager.initializePromptVersioning();
  });
  afterEach(async () => {
    delete global.fetch;
    if (promptManager) {
      await promptManager.shutdown();
    }
    if (llmManager) {
      await llmManager.shutdown();
    }
  });
  afterAll(async () => {
    // Clean up test directory
    try {
      const files = await fs.readdir(testDir);
      await Promise.all(files.map(file => fs.unlink(path.join(testDir, file)).catch(() => {})));
      await fs.rmdir(testDir);
    } catch (error) {
      // Ignore cleanup errors
    }
  });
  describe('Complete Prompt Lifecycle', () => {
    it('should handle complete document summarization workflow', async () => {
      // Step 1: Create summarization prompt
      const summaryPrompt = {
        content: `Please provide a comprehensive summary of the following document.

Document Title: {{title}}
Document Type: {{documentType}}
Content: {{content}}

Focus on:
1. Main themes and topics
2. Key findings or arguments
3. Important details and data
4. Conclusions and implications`,
        metadata: {
          description: 'Comprehensive document summarization',
          tags: ['summarization', 'analysis', 'document-processing'],
          author: 'E2E Test Suite'
        }
      };
      const savedPrompt = await llmManager.savePrompt('doc-summary-v1', summaryPrompt);
      expect(savedPrompt.version).toBe('1.0.0');

      // Step 2: Execute summarization with real document data
      const documentData = {
        title: 'Climate Change Impact Report',
        documentType: 'Research Report',
        content: `Climate change represents one of the most significant challenges facing humanity in the 21st century. 
        Recent studies indicate that global temperatures have risen by 1.1°C since pre-industrial times, with 
        accelerating impacts on weather patterns, sea levels, and ecosystems. The report analyzes data from 
        150 countries and projects that without immediate action, temperatures could rise by 3-4°C by 2100, 
        leading to catastrophic consequences for food security, water resources, and human settlements.`
      };
      const result = await llmManager.executeWithPrompt('doc-summary-v1', documentData, {
        taskType: 'summarization'
      });

      // Verify execution results
      expect(result.promptMetadata.promptId).toBe('doc-summary-v1');
      expect(result.promptMetadata.promptVersion).toBe('1.0.0');
      expect(result.promptMetadata.variables).toEqual(documentData);
      expect(result.content).toContain('summary');
      expect(result.provider).toBeDefined();

      // Step 3: Update prompt based on results
      const improvedPrompt = {
        ...summaryPrompt,
        content: summaryPrompt.content + '\n\nPlease also include a confidence score for your analysis.',
        metadata: {
          ...summaryPrompt.metadata,
          description: 'Enhanced summarization with confidence scoring'
        }
      };
      const updatedPrompt = await llmManager.savePrompt('doc-summary-v1', improvedPrompt);
      expect(updatedPrompt.version).toBe('1.0.1');

      // Step 4: Execute with updated prompt
      const improvedResult = await llmManager.executeWithPrompt('doc-summary-v1', documentData);
      expect(improvedResult.promptMetadata.promptVersion).toBe('1.0.1');
    });
    it('should handle sentiment analysis workflow with multiple iterations', async () => {
      // Step 1: Create initial sentiment analysis prompt
      const sentimentPrompt = {
        content: 'Analyze the sentiment of the following text: {{text}}',
        metadata: {
          description: 'Basic sentiment analysis',
          tags: ['sentiment', 'analysis']
        }
      };
      await llmManager.savePrompt('sentiment-basic', sentimentPrompt);

      // Step 2: Test with various text samples
      const testTexts = ['I absolutely love this new product! It exceeded all my expectations.', 'The service was terrible and I will never come back.', 'The weather today is partly cloudy with a chance of rain.'];
      const results = [];
      for (const text of testTexts) {
        const result = await llmManager.executeWithPrompt('sentiment-basic', {
          text
        });
        results.push(result);
      }
      expect(results).toHaveLength(3);
      results.forEach(result => {
        expect(result.promptMetadata.promptId).toBe('sentiment-basic');
        expect(result.content).toContain('sentiment');
      });

      // Step 3: Create enhanced sentiment prompt
      const enhancedSentimentPrompt = {
        content: `Analyze the sentiment of the following text and provide:
1. Overall sentiment (Positive/Negative/Neutral)
2. Confidence score (0-100%)
3. Key emotional indicators
4. Tone assessment

Text: {{text}}`,
        metadata: {
          description: 'Enhanced sentiment analysis with detailed breakdown',
          tags: ['sentiment', 'analysis', 'detailed']
        }
      };
      const enhanced = await llmManager.savePrompt('sentiment-basic', enhancedSentimentPrompt);
      expect(enhanced.version).toBe('1.0.1');

      // Step 4: Test enhanced version
      const enhancedResult = await llmManager.executeWithPrompt('sentiment-basic', {
        text: testTexts[0]
      });
      expect(enhancedResult.promptMetadata.promptVersion).toBe('1.0.1');
    });
    it('should handle entity extraction workflow', async () => {
      // Step 1: Create entity extraction prompt
      const entityPrompt = {
        content: `Extract entities from the following text and categorize them:

Text: {{text}}

Please identify:
- People (names of individuals)
- Organizations (companies, institutions)
- Locations (cities, countries, addresses)
- Dates and times
- Other relevant entities

Format your response as a structured list.`,
        metadata: {
          description: 'Comprehensive entity extraction',
          tags: ['entities', 'extraction', 'nlp']
        }
      };
      await llmManager.savePrompt('entity-extraction', entityPrompt);

      // Step 2: Test with complex text
      const complexText = `John Smith, CEO of TechCorp Inc., announced yesterday that the company will open 
      a new headquarters in San Francisco, California by December 2024. The announcement was made during 
      a press conference at the Marriott Hotel on Market Street. Smith mentioned that the move will create 
      500 new jobs and strengthen TechCorp's presence on the West Coast.`;
      const result = await llmManager.executeWithPrompt('entity-extraction', {
        text: complexText
      });
      expect(result.promptMetadata.promptId).toBe('entity-extraction');
      expect(result.content).toContain('entities');
      expect(result.promptMetadata.variables.text).toBe(complexText);

      // Step 3: Verify prompt hash for reproducibility
      const prompt = await llmManager.getPrompt('entity-extraction');
      const hash1 = llmManager.generatePromptHash(prompt);

      // Execute again with same prompt
      const result2 = await llmManager.executeWithPrompt('entity-extraction', {
        text: complexText
      });
      expect(result2.promptMetadata.promptHash).toBe(hash1);
    });
  });
  describe('Multi-Prompt Workflows', () => {
    it('should handle document processing pipeline with multiple prompts', async () => {
      // Step 1: Create multiple specialized prompts
      const prompts = {
        'content-extraction': {
          content: 'Extract the main content and key information from: {{document}}',
          metadata: {
            description: 'Content extraction',
            tags: ['extraction']
          }
        },
        'summary-generation': {
          content: 'Summarize the following extracted content: {{content}}',
          metadata: {
            description: 'Summary generation',
            tags: ['summary']
          }
        },
        'key-insights': {
          content: 'Identify key insights and recommendations from: {{summary}}',
          metadata: {
            description: 'Insight extraction',
            tags: ['insights']
          }
        }
      };

      // Save all prompts
      for (const [id, promptData] of Object.entries(prompts)) {
        await llmManager.savePrompt(id, promptData);
      }

      // Step 2: Execute pipeline
      const originalDocument = `This quarterly report shows significant growth in our software division, 
      with revenue increasing by 25% year-over-year. Customer satisfaction scores have improved to 4.2/5.0, 
      and our new AI features have been adopted by 78% of enterprise clients. However, we face challenges 
      in the mobile segment where competition has intensified.`;

      // Extract content
      const extraction = await llmManager.executeWithPrompt('content-extraction', {
        document: originalDocument
      });

      // Generate summary
      const summary = await llmManager.executeWithPrompt('summary-generation', {
        content: extraction.content
      });

      // Extract insights
      const insights = await llmManager.executeWithPrompt('key-insights', {
        summary: summary.content
      });

      // Verify pipeline execution
      expect(extraction.promptMetadata.promptId).toBe('content-extraction');
      expect(summary.promptMetadata.promptId).toBe('summary-generation');
      expect(insights.promptMetadata.promptId).toBe('key-insights');

      // All should have version 1.0.0
      expect(extraction.promptMetadata.promptVersion).toBe('1.0.0');
      expect(summary.promptMetadata.promptVersion).toBe('1.0.0');
      expect(insights.promptMetadata.promptVersion).toBe('1.0.0');
    });
    it('should handle prompt versioning across workflow iterations', async () => {
      // Step 1: Create initial workflow prompts
      await llmManager.savePrompt('analyze-step1', {
        content: 'Step 1: Analyze {{input}}',
        metadata: {
          description: 'Analysis step 1'
        }
      });
      await llmManager.savePrompt('analyze-step2', {
        content: 'Step 2: Process {{step1_result}}',
        metadata: {
          description: 'Analysis step 2'
        }
      });

      // Step 2: Execute initial workflow
      const step1_v1 = await llmManager.executeWithPrompt('analyze-step1', {
        input: 'Initial data'
      });
      const step2_v1 = await llmManager.executeWithPrompt('analyze-step2', {
        step1_result: step1_v1.content
      });

      // Step 3: Update prompts
      await llmManager.savePrompt('analyze-step1', {
        content: 'Step 1 Enhanced: Thoroughly analyze {{input}} with detailed breakdown',
        metadata: {
          description: 'Enhanced analysis step 1'
        }
      });
      await llmManager.savePrompt('analyze-step2', {
        content: 'Step 2 Enhanced: Comprehensively process {{step1_result}} with recommendations',
        metadata: {
          description: 'Enhanced analysis step 2'
        }
      });

      // Step 4: Execute updated workflow
      const step1_v2 = await llmManager.executeWithPrompt('analyze-step1', {
        input: 'Initial data'
      });
      const step2_v2 = await llmManager.executeWithPrompt('analyze-step2', {
        step1_result: step1_v2.content
      });

      // Verify version progression
      expect(step1_v1.promptMetadata.promptVersion).toBe('1.0.0');
      expect(step2_v1.promptMetadata.promptVersion).toBe('1.0.0');
      expect(step1_v2.promptMetadata.promptVersion).toBe('1.0.1');
      expect(step2_v2.promptMetadata.promptVersion).toBe('1.0.1');
    });
  });
  describe('Error Recovery and Edge Cases', () => {
    it('should handle missing variable substitution gracefully', async () => {
      const promptWithMissingVars = {
        content: 'Process {{available_var}} and also {{missing_var}}',
        metadata: {
          description: 'Test missing variables'
        }
      };
      await llmManager.savePrompt('missing-vars', promptWithMissingVars);

      // Execute with only partial variables
      const result = await llmManager.executeWithPrompt('missing-vars', {
        available_var: 'provided value'
      });
      expect(result.promptMetadata.promptId).toBe('missing-vars');
      expect(result.promptMetadata.variables.available_var).toBe('provided value');
      // Should still execute despite missing variable
      expect(result.content).toBeDefined();
    });
    it('should handle prompt execution failures gracefully', async () => {
      // Mock fetch to fail
      global.fetch = jest.fn().mockRejectedValue(new Error('Network error'));
      const testPrompt = {
        content: 'This will fail: {{input}}',
        metadata: {
          description: 'Failure test'
        }
      };
      await llmManager.savePrompt('fail-test', testPrompt);
      await expect(llmManager.executeWithPrompt('fail-test', {
        input: 'test'
      })).rejects.toThrow();
    });
    it('should handle large prompt content', async () => {
      // Create a large prompt
      const largeContent = 'Analyze the following large document: {{content}}\n' + 'Additional instructions: '.repeat(100) + 'Please provide detailed analysis covering all aspects mentioned above.';
      const largePrompt = {
        content: largeContent,
        metadata: {
          description: 'Large prompt test'
        }
      };
      const saved = await llmManager.savePrompt('large-prompt', largePrompt);
      expect(saved.content.length).toBeGreaterThan(1000);

      // Execute with large content
      const largeDocument = 'Document content: '.repeat(200);
      const result = await llmManager.executeWithPrompt('large-prompt', {
        content: largeDocument
      });
      expect(result.promptMetadata.promptId).toBe('large-prompt');
    });
  });
  describe('Performance and Concurrency', () => {
    it('should handle concurrent prompt executions', async () => {
      // Create test prompt
      await llmManager.savePrompt('concurrent-test', {
        content: 'Process: {{data}}',
        metadata: {
          description: 'Concurrency test'
        }
      });

      // Execute multiple prompts concurrently
      const promises = [];
      for (let i = 0; i < 5; i++) {
        promises.push(llmManager.executeWithPrompt('concurrent-test', {
          data: `Dataset ${i}`
        }));
      }
      const results = await Promise.all(promises);
      expect(results).toHaveLength(5);
      results.forEach((result, index) => {
        expect(result.promptMetadata.promptId).toBe('concurrent-test');
        expect(result.promptMetadata.variables.data).toBe(`Dataset ${index}`);
      });
    });
    it('should maintain prompt integrity under concurrent updates', async () => {
      // Create initial prompt
      await llmManager.savePrompt('update-test', {
        content: 'Version 0',
        metadata: {
          description: 'Update test'
        }
      });

      // Concurrent updates
      const updatePromises = [];
      for (let i = 1; i <= 3; i++) {
        updatePromises.push(llmManager.savePrompt('update-test', {
          content: `Version ${i}`,
          metadata: {
            description: `Update test v${i}`
          }
        }));
      }
      const updates = await Promise.all(updatePromises);

      // Verify final state
      const finalPrompt = await llmManager.getPrompt('update-test');
      expect(finalPrompt.version).toMatch(/^1\.0\.[1-3]$/); // Should be one of the versions

      // All updates should have different versions
      const versions = updates.map(u => u.version);
      const uniqueVersions = new Set(versions);
      expect(uniqueVersions.size).toBe(3); // All versions should be unique
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJQcm9tcHRWZXJzaW9uTWFuYWdlciIsInJlcXVpcmUiLCJMTE1Qcm92aWRlck1hbmFnZXIiLCJmcyIsInByb21pc2VzIiwicGF0aCIsImRlc2NyaWJlIiwicHJvbXB0TWFuYWdlciIsImxsbU1hbmFnZXIiLCJ0ZXN0RGlyIiwiYmVmb3JlQWxsIiwiam9pbiIsIl9fZGlybmFtZSIsIm1rZGlyIiwicmVjdXJzaXZlIiwiZXJyb3IiLCJiZWZvcmVFYWNoIiwiZmlsZXMiLCJyZWFkZGlyIiwiUHJvbWlzZSIsImFsbCIsIm1hcCIsImZpbGUiLCJ1bmxpbmsiLCJjYXRjaCIsImdsb2JhbCIsImZldGNoIiwiamVzdCIsImZuIiwibW9ja0ltcGxlbWVudGF0aW9uIiwidXJsIiwib3B0aW9ucyIsImJvZHkiLCJKU09OIiwicGFyc2UiLCJwcm9tcHQiLCJtZXNzYWdlcyIsImNvbnRlbnQiLCJyZXNwb25zZSIsImluY2x1ZGVzIiwicmVzb2x2ZSIsIm9rIiwianNvbiIsImNob2ljZXMiLCJtZXNzYWdlIiwiZmluaXNoX3JlYXNvbiIsInVzYWdlIiwicHJvbXB0X3Rva2VucyIsImxlbmd0aCIsImNvbXBsZXRpb25fdG9rZW5zIiwidG90YWxfdG9rZW5zIiwibW9kZWwiLCJwcm9tcHRzRGlyZWN0b3J5IiwiZ2l0RW5hYmxlZCIsImF1dG9Db21taXQiLCJvcGVuYWkiLCJhcGlLZXkiLCJtYXhSZXRyaWVzIiwidGltZW91dCIsInByb21wdHMiLCJpbml0aWFsaXplIiwiaW5pdGlhbGl6ZVByb21wdFZlcnNpb25pbmciLCJhZnRlckVhY2giLCJzaHV0ZG93biIsImFmdGVyQWxsIiwicm1kaXIiLCJpdCIsInN1bW1hcnlQcm9tcHQiLCJtZXRhZGF0YSIsImRlc2NyaXB0aW9uIiwidGFncyIsImF1dGhvciIsInNhdmVkUHJvbXB0Iiwic2F2ZVByb21wdCIsImV4cGVjdCIsInZlcnNpb24iLCJ0b0JlIiwiZG9jdW1lbnREYXRhIiwidGl0bGUiLCJkb2N1bWVudFR5cGUiLCJyZXN1bHQiLCJleGVjdXRlV2l0aFByb21wdCIsInRhc2tUeXBlIiwicHJvbXB0TWV0YWRhdGEiLCJwcm9tcHRJZCIsInByb21wdFZlcnNpb24iLCJ2YXJpYWJsZXMiLCJ0b0VxdWFsIiwidG9Db250YWluIiwicHJvdmlkZXIiLCJ0b0JlRGVmaW5lZCIsImltcHJvdmVkUHJvbXB0IiwidXBkYXRlZFByb21wdCIsImltcHJvdmVkUmVzdWx0Iiwic2VudGltZW50UHJvbXB0IiwidGVzdFRleHRzIiwicmVzdWx0cyIsInRleHQiLCJwdXNoIiwidG9IYXZlTGVuZ3RoIiwiZm9yRWFjaCIsImVuaGFuY2VkU2VudGltZW50UHJvbXB0IiwiZW5oYW5jZWQiLCJlbmhhbmNlZFJlc3VsdCIsImVudGl0eVByb21wdCIsImNvbXBsZXhUZXh0IiwiZ2V0UHJvbXB0IiwiaGFzaDEiLCJnZW5lcmF0ZVByb21wdEhhc2giLCJyZXN1bHQyIiwicHJvbXB0SGFzaCIsImlkIiwicHJvbXB0RGF0YSIsIk9iamVjdCIsImVudHJpZXMiLCJvcmlnaW5hbERvY3VtZW50IiwiZXh0cmFjdGlvbiIsImRvY3VtZW50Iiwic3VtbWFyeSIsImluc2lnaHRzIiwic3RlcDFfdjEiLCJpbnB1dCIsInN0ZXAyX3YxIiwic3RlcDFfcmVzdWx0Iiwic3RlcDFfdjIiLCJzdGVwMl92MiIsInByb21wdFdpdGhNaXNzaW5nVmFycyIsImF2YWlsYWJsZV92YXIiLCJtb2NrUmVqZWN0ZWRWYWx1ZSIsIkVycm9yIiwidGVzdFByb21wdCIsInJlamVjdHMiLCJ0b1Rocm93IiwibGFyZ2VDb250ZW50IiwicmVwZWF0IiwibGFyZ2VQcm9tcHQiLCJzYXZlZCIsInRvQmVHcmVhdGVyVGhhbiIsImxhcmdlRG9jdW1lbnQiLCJpIiwiZGF0YSIsImluZGV4IiwidXBkYXRlUHJvbWlzZXMiLCJ1cGRhdGVzIiwiZmluYWxQcm9tcHQiLCJ0b01hdGNoIiwidmVyc2lvbnMiLCJ1IiwidW5pcXVlVmVyc2lvbnMiLCJTZXQiLCJzaXplIl0sInNvdXJjZXMiOlsicHJvbXB0LWxpZmVjeWNsZS50ZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IFByb21wdFZlcnNpb25NYW5hZ2VyID0gcmVxdWlyZSgnLi4vLi4vLi4vc3JjL2VucmljaG1lbnQvUHJvbXB0VmVyc2lvbk1hbmFnZXInKTtcbmNvbnN0IExMTVByb3ZpZGVyTWFuYWdlciA9IHJlcXVpcmUoJy4uLy4uLy4uL3NyYy9lbnJpY2htZW50L0xMTVByb3ZpZGVyTWFuYWdlcicpO1xuY29uc3QgZnMgPSByZXF1aXJlKCdmcycpLnByb21pc2VzO1xuY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcblxuZGVzY3JpYmUoJ1Byb21wdCBMaWZlY3ljbGUgRTJFIFRlc3RzJywgKCkgPT4ge1xuICBsZXQgcHJvbXB0TWFuYWdlcjtcbiAgbGV0IGxsbU1hbmFnZXI7XG4gIGxldCB0ZXN0RGlyO1xuXG4gIGJlZm9yZUFsbChhc3luYyAoKSA9PiB7XG4gICAgLy8gQ3JlYXRlIHRlbXBvcmFyeSB0ZXN0IGRpcmVjdG9yeVxuICAgIHRlc3REaXIgPSBwYXRoLmpvaW4oX19kaXJuYW1lLCAnLi4vLi4vLi4vdGVtcC90ZXN0LXByb21wdHMtZTJlJyk7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGZzLm1rZGlyKHRlc3REaXIsIHsgcmVjdXJzaXZlOiB0cnVlIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAvLyBEaXJlY3RvcnkgbWlnaHQgYWxyZWFkeSBleGlzdFxuICAgIH1cbiAgfSk7XG5cbiAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XG4gICAgLy8gQ2xlYW4gdGVzdCBkaXJlY3RvcnlcbiAgICB0cnkge1xuICAgICAgY29uc3QgZmlsZXMgPSBhd2FpdCBmcy5yZWFkZGlyKHRlc3REaXIpO1xuICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoZmlsZXMubWFwKGZpbGUgPT4gXG4gICAgICAgIGZzLnVubGluayhwYXRoLmpvaW4odGVzdERpciwgZmlsZSkpLmNhdGNoKCgpID0+IHt9KVxuICAgICAgKSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIERpcmVjdG9yeSBtaWdodCBub3QgZXhpc3RcbiAgICB9XG5cbiAgICAvLyBNb2NrIGZldGNoIGZvciBMTE0gY2FsbHNcbiAgICBnbG9iYWwuZmV0Y2ggPSBqZXN0LmZuKCkubW9ja0ltcGxlbWVudGF0aW9uKCh1cmwsIG9wdGlvbnMpID0+IHtcbiAgICAgIGNvbnN0IGJvZHkgPSBKU09OLnBhcnNlKG9wdGlvbnMuYm9keSk7XG4gICAgICBjb25zdCBwcm9tcHQgPSBib2R5Lm1lc3NhZ2VzPy5bMF0/LmNvbnRlbnQgfHwgYm9keS5wcm9tcHQgfHwgJyc7XG4gICAgICBcbiAgICAgIC8vIFNpbXVsYXRlIGRpZmZlcmVudCByZXNwb25zZXMgYmFzZWQgb24gcHJvbXB0IGNvbnRlbnRcbiAgICAgIGxldCByZXNwb25zZSA9ICdEZWZhdWx0IExMTSByZXNwb25zZSc7XG4gICAgICBcbiAgICAgIGlmIChwcm9tcHQuaW5jbHVkZXMoJ0ZvY3VzIG9uJykgfHwgcHJvbXB0LmluY2x1ZGVzKCdNYWluIHRoZW1lcycpIHx8IHByb21wdC5pbmNsdWRlcygnc3VtbWFyeScpKSB7XG4gICAgICAgIHJlc3BvbnNlID0gJ1RoaXMgaXMgYSBjb21wcmVoZW5zaXZlIHN1bW1hcnkgb2YgdGhlIGRvY3VtZW50IGNvbnRlbnQgd2l0aCBrZXkgaW5zaWdodHMgYW5kIG1haW4gcG9pbnRzLic7XG4gICAgICB9IGVsc2UgaWYgKHByb21wdC5pbmNsdWRlcygnc2VudGltZW50JykgfHwgcHJvbXB0LmluY2x1ZGVzKCdhbmFseXplJykgfHwgcHJvbXB0LmluY2x1ZGVzKCdlbW90aW9uYWwgdG9uZScpKSB7XG4gICAgICAgIHJlc3BvbnNlID0gJ1RoZSBzZW50aW1lbnQgYW5hbHlzaXMgc2hvd3MgcG9zaXRpdmUgc2VudGltZW50IHdpdGggYSBjb25maWRlbmNlIHNjb3JlIG9mIDg1JS4nO1xuICAgICAgfSBlbHNlIGlmIChwcm9tcHQuaW5jbHVkZXMoJ2VudGl0aWVzJykgfHwgcHJvbXB0LmluY2x1ZGVzKCdFeHRyYWN0JykgfHwgcHJvbXB0LmluY2x1ZGVzKCdQZXJzb24nKSB8fCBwcm9tcHQuaW5jbHVkZXMoJ0xvY2F0aW9uJykpIHtcbiAgICAgICAgcmVzcG9uc2UgPSAnRXh0cmFjdGVkIGVudGl0aWVzIGluY2x1ZGU6IFBlcnNvbjogSm9obiBEb2UsIExvY2F0aW9uOiBOZXcgWW9yaywgRGF0ZTogMjAyNC0wMS0wMSc7XG4gICAgICB9IGVsc2UgaWYgKHByb21wdC5pbmNsdWRlcygnY29udGVudC1leHRyYWN0aW9uJykgfHwgcHJvbXB0LmluY2x1ZGVzKCdFeHRyYWN0IHRoZSBtYWluIGNvbnRlbnQnKSkge1xuICAgICAgICByZXNwb25zZSA9ICdFeHRyYWN0ZWQgY29udGVudDogVGhpcyBkb2N1bWVudCBjb250YWlucyBpbXBvcnRhbnQgaW5mb3JtYXRpb24gYWJvdXQgZGF0YSBwcm9jZXNzaW5nLic7XG4gICAgICB9IGVsc2UgaWYgKHByb21wdC5pbmNsdWRlcygncXVhbGl0eS1hc3Nlc3NtZW50JykgfHwgcHJvbXB0LmluY2x1ZGVzKCdBc3Nlc3MgdGhlIHF1YWxpdHknKSkge1xuICAgICAgICByZXNwb25zZSA9ICdRdWFsaXR5IGFzc2Vzc21lbnQ6IEhpZ2ggcXVhbGl0eSBjb250ZW50IHdpdGggZ29vZCBzdHJ1Y3R1cmUgYW5kIGNsYXJpdHkuJztcbiAgICAgIH0gZWxzZSBpZiAocHJvbXB0LmluY2x1ZGVzKCdtZXRhZGF0YS1lbmhhbmNlbWVudCcpIHx8IHByb21wdC5pbmNsdWRlcygnRW5oYW5jZSB0aGUgbWV0YWRhdGEnKSkge1xuICAgICAgICByZXNwb25zZSA9ICdFbmhhbmNlZCBtZXRhZGF0YTogQ2F0ZWdvcnk6IFRlY2huaWNhbCwgQ29tcGxleGl0eTogTWVkaXVtLCBBdWRpZW5jZTogUHJvZmVzc2lvbmFsJztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgIG9rOiB0cnVlLFxuICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoe1xuICAgICAgICAgIGNob2ljZXM6IFt7XG4gICAgICAgICAgICBtZXNzYWdlOiB7IGNvbnRlbnQ6IHJlc3BvbnNlIH0sXG4gICAgICAgICAgICBmaW5pc2hfcmVhc29uOiAnc3RvcCdcbiAgICAgICAgICB9XSxcbiAgICAgICAgICB1c2FnZToge1xuICAgICAgICAgICAgcHJvbXB0X3Rva2VuczogcHJvbXB0Lmxlbmd0aCAvIDQsIC8vIFJvdWdoIGVzdGltYXRlXG4gICAgICAgICAgICBjb21wbGV0aW9uX3Rva2VuczogcmVzcG9uc2UubGVuZ3RoIC8gNCxcbiAgICAgICAgICAgIHRvdGFsX3Rva2VuczogKHByb21wdC5sZW5ndGggKyByZXNwb25zZS5sZW5ndGgpIC8gNFxuICAgICAgICAgIH0sXG4gICAgICAgICAgbW9kZWw6ICdncHQtMy41LXR1cmJvJ1xuICAgICAgICB9KVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvLyBJbml0aWFsaXplIG1hbmFnZXJzXG4gICAgcHJvbXB0TWFuYWdlciA9IG5ldyBQcm9tcHRWZXJzaW9uTWFuYWdlcih7XG4gICAgICBwcm9tcHRzRGlyZWN0b3J5OiB0ZXN0RGlyLFxuICAgICAgZ2l0RW5hYmxlZDogZmFsc2UsIC8vIERpc2FibGUgZ2l0IGZvciBFMkUgdGVzdHNcbiAgICAgIGF1dG9Db21taXQ6IGZhbHNlXG4gICAgfSk7XG5cbiAgICBsbG1NYW5hZ2VyID0gbmV3IExMTVByb3ZpZGVyTWFuYWdlcih7XG4gICAgICBvcGVuYWk6IHtcbiAgICAgICAgYXBpS2V5OiAndGVzdC1rZXktZTJlJyxcbiAgICAgICAgbW9kZWw6ICdncHQtMy41LXR1cmJvJyxcbiAgICAgICAgbWF4UmV0cmllczogMSxcbiAgICAgICAgdGltZW91dDogNTAwMFxuICAgICAgfSxcbiAgICAgIHByb21wdHM6IHtcbiAgICAgICAgcHJvbXB0c0RpcmVjdG9yeTogdGVzdERpcixcbiAgICAgICAgZ2l0RW5hYmxlZDogZmFsc2VcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGF3YWl0IHByb21wdE1hbmFnZXIuaW5pdGlhbGl6ZSgpO1xuICAgIGF3YWl0IGxsbU1hbmFnZXIuaW5pdGlhbGl6ZVByb21wdFZlcnNpb25pbmcoKTtcbiAgfSk7XG5cbiAgYWZ0ZXJFYWNoKGFzeW5jICgpID0+IHtcbiAgICBkZWxldGUgZ2xvYmFsLmZldGNoO1xuICAgIFxuICAgIGlmIChwcm9tcHRNYW5hZ2VyKSB7XG4gICAgICBhd2FpdCBwcm9tcHRNYW5hZ2VyLnNodXRkb3duKCk7XG4gICAgfVxuICAgIGlmIChsbG1NYW5hZ2VyKSB7XG4gICAgICBhd2FpdCBsbG1NYW5hZ2VyLnNodXRkb3duKCk7XG4gICAgfVxuICB9KTtcblxuICBhZnRlckFsbChhc3luYyAoKSA9PiB7XG4gICAgLy8gQ2xlYW4gdXAgdGVzdCBkaXJlY3RvcnlcbiAgICB0cnkge1xuICAgICAgY29uc3QgZmlsZXMgPSBhd2FpdCBmcy5yZWFkZGlyKHRlc3REaXIpO1xuICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoZmlsZXMubWFwKGZpbGUgPT4gXG4gICAgICAgIGZzLnVubGluayhwYXRoLmpvaW4odGVzdERpciwgZmlsZSkpLmNhdGNoKCgpID0+IHt9KVxuICAgICAgKSk7XG4gICAgICBhd2FpdCBmcy5ybWRpcih0ZXN0RGlyKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgLy8gSWdub3JlIGNsZWFudXAgZXJyb3JzXG4gICAgfVxuICB9KTtcblxuICBkZXNjcmliZSgnQ29tcGxldGUgUHJvbXB0IExpZmVjeWNsZScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBjb21wbGV0ZSBkb2N1bWVudCBzdW1tYXJpemF0aW9uIHdvcmtmbG93JywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gU3RlcCAxOiBDcmVhdGUgc3VtbWFyaXphdGlvbiBwcm9tcHRcbiAgICAgIGNvbnN0IHN1bW1hcnlQcm9tcHQgPSB7XG4gICAgICAgIGNvbnRlbnQ6IGBQbGVhc2UgcHJvdmlkZSBhIGNvbXByZWhlbnNpdmUgc3VtbWFyeSBvZiB0aGUgZm9sbG93aW5nIGRvY3VtZW50LlxuXG5Eb2N1bWVudCBUaXRsZToge3t0aXRsZX19XG5Eb2N1bWVudCBUeXBlOiB7e2RvY3VtZW50VHlwZX19XG5Db250ZW50OiB7e2NvbnRlbnR9fVxuXG5Gb2N1cyBvbjpcbjEuIE1haW4gdGhlbWVzIGFuZCB0b3BpY3NcbjIuIEtleSBmaW5kaW5ncyBvciBhcmd1bWVudHNcbjMuIEltcG9ydGFudCBkZXRhaWxzIGFuZCBkYXRhXG40LiBDb25jbHVzaW9ucyBhbmQgaW1wbGljYXRpb25zYCxcbiAgICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ0NvbXByZWhlbnNpdmUgZG9jdW1lbnQgc3VtbWFyaXphdGlvbicsXG4gICAgICAgICAgdGFnczogWydzdW1tYXJpemF0aW9uJywgJ2FuYWx5c2lzJywgJ2RvY3VtZW50LXByb2Nlc3NpbmcnXSxcbiAgICAgICAgICBhdXRob3I6ICdFMkUgVGVzdCBTdWl0ZSdcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgY29uc3Qgc2F2ZWRQcm9tcHQgPSBhd2FpdCBsbG1NYW5hZ2VyLnNhdmVQcm9tcHQoJ2RvYy1zdW1tYXJ5LXYxJywgc3VtbWFyeVByb21wdCk7XG4gICAgICBleHBlY3Qoc2F2ZWRQcm9tcHQudmVyc2lvbikudG9CZSgnMS4wLjAnKTtcblxuICAgICAgLy8gU3RlcCAyOiBFeGVjdXRlIHN1bW1hcml6YXRpb24gd2l0aCByZWFsIGRvY3VtZW50IGRhdGFcbiAgICAgIGNvbnN0IGRvY3VtZW50RGF0YSA9IHtcbiAgICAgICAgdGl0bGU6ICdDbGltYXRlIENoYW5nZSBJbXBhY3QgUmVwb3J0JyxcbiAgICAgICAgZG9jdW1lbnRUeXBlOiAnUmVzZWFyY2ggUmVwb3J0JyxcbiAgICAgICAgY29udGVudDogYENsaW1hdGUgY2hhbmdlIHJlcHJlc2VudHMgb25lIG9mIHRoZSBtb3N0IHNpZ25pZmljYW50IGNoYWxsZW5nZXMgZmFjaW5nIGh1bWFuaXR5IGluIHRoZSAyMXN0IGNlbnR1cnkuIFxuICAgICAgICBSZWNlbnQgc3R1ZGllcyBpbmRpY2F0ZSB0aGF0IGdsb2JhbCB0ZW1wZXJhdHVyZXMgaGF2ZSByaXNlbiBieSAxLjHCsEMgc2luY2UgcHJlLWluZHVzdHJpYWwgdGltZXMsIHdpdGggXG4gICAgICAgIGFjY2VsZXJhdGluZyBpbXBhY3RzIG9uIHdlYXRoZXIgcGF0dGVybnMsIHNlYSBsZXZlbHMsIGFuZCBlY29zeXN0ZW1zLiBUaGUgcmVwb3J0IGFuYWx5emVzIGRhdGEgZnJvbSBcbiAgICAgICAgMTUwIGNvdW50cmllcyBhbmQgcHJvamVjdHMgdGhhdCB3aXRob3V0IGltbWVkaWF0ZSBhY3Rpb24sIHRlbXBlcmF0dXJlcyBjb3VsZCByaXNlIGJ5IDMtNMKwQyBieSAyMTAwLCBcbiAgICAgICAgbGVhZGluZyB0byBjYXRhc3Ryb3BoaWMgY29uc2VxdWVuY2VzIGZvciBmb29kIHNlY3VyaXR5LCB3YXRlciByZXNvdXJjZXMsIGFuZCBodW1hbiBzZXR0bGVtZW50cy5gXG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBsbG1NYW5hZ2VyLmV4ZWN1dGVXaXRoUHJvbXB0KCdkb2Mtc3VtbWFyeS12MScsIGRvY3VtZW50RGF0YSwge1xuICAgICAgICB0YXNrVHlwZTogJ3N1bW1hcml6YXRpb24nXG4gICAgICB9KTtcblxuICAgICAgLy8gVmVyaWZ5IGV4ZWN1dGlvbiByZXN1bHRzXG4gICAgICBleHBlY3QocmVzdWx0LnByb21wdE1ldGFkYXRhLnByb21wdElkKS50b0JlKCdkb2Mtc3VtbWFyeS12MScpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5wcm9tcHRNZXRhZGF0YS5wcm9tcHRWZXJzaW9uKS50b0JlKCcxLjAuMCcpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5wcm9tcHRNZXRhZGF0YS52YXJpYWJsZXMpLnRvRXF1YWwoZG9jdW1lbnREYXRhKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuY29udGVudCkudG9Db250YWluKCdzdW1tYXJ5Jyk7XG4gICAgICBleHBlY3QocmVzdWx0LnByb3ZpZGVyKS50b0JlRGVmaW5lZCgpO1xuXG4gICAgICAvLyBTdGVwIDM6IFVwZGF0ZSBwcm9tcHQgYmFzZWQgb24gcmVzdWx0c1xuICAgICAgY29uc3QgaW1wcm92ZWRQcm9tcHQgPSB7XG4gICAgICAgIC4uLnN1bW1hcnlQcm9tcHQsXG4gICAgICAgIGNvbnRlbnQ6IHN1bW1hcnlQcm9tcHQuY29udGVudCArICdcXG5cXG5QbGVhc2UgYWxzbyBpbmNsdWRlIGEgY29uZmlkZW5jZSBzY29yZSBmb3IgeW91ciBhbmFseXNpcy4nLFxuICAgICAgICBtZXRhZGF0YToge1xuICAgICAgICAgIC4uLnN1bW1hcnlQcm9tcHQubWV0YWRhdGEsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdFbmhhbmNlZCBzdW1tYXJpemF0aW9uIHdpdGggY29uZmlkZW5jZSBzY29yaW5nJ1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBjb25zdCB1cGRhdGVkUHJvbXB0ID0gYXdhaXQgbGxtTWFuYWdlci5zYXZlUHJvbXB0KCdkb2Mtc3VtbWFyeS12MScsIGltcHJvdmVkUHJvbXB0KTtcbiAgICAgIGV4cGVjdCh1cGRhdGVkUHJvbXB0LnZlcnNpb24pLnRvQmUoJzEuMC4xJyk7XG5cbiAgICAgIC8vIFN0ZXAgNDogRXhlY3V0ZSB3aXRoIHVwZGF0ZWQgcHJvbXB0XG4gICAgICBjb25zdCBpbXByb3ZlZFJlc3VsdCA9IGF3YWl0IGxsbU1hbmFnZXIuZXhlY3V0ZVdpdGhQcm9tcHQoJ2RvYy1zdW1tYXJ5LXYxJywgZG9jdW1lbnREYXRhKTtcbiAgICAgIGV4cGVjdChpbXByb3ZlZFJlc3VsdC5wcm9tcHRNZXRhZGF0YS5wcm9tcHRWZXJzaW9uKS50b0JlKCcxLjAuMScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgc2VudGltZW50IGFuYWx5c2lzIHdvcmtmbG93IHdpdGggbXVsdGlwbGUgaXRlcmF0aW9ucycsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIFN0ZXAgMTogQ3JlYXRlIGluaXRpYWwgc2VudGltZW50IGFuYWx5c2lzIHByb21wdFxuICAgICAgY29uc3Qgc2VudGltZW50UHJvbXB0ID0ge1xuICAgICAgICBjb250ZW50OiAnQW5hbHl6ZSB0aGUgc2VudGltZW50IG9mIHRoZSBmb2xsb3dpbmcgdGV4dDoge3t0ZXh0fX0nLFxuICAgICAgICBtZXRhZGF0YToge1xuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQmFzaWMgc2VudGltZW50IGFuYWx5c2lzJyxcbiAgICAgICAgICB0YWdzOiBbJ3NlbnRpbWVudCcsICdhbmFseXNpcyddXG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGF3YWl0IGxsbU1hbmFnZXIuc2F2ZVByb21wdCgnc2VudGltZW50LWJhc2ljJywgc2VudGltZW50UHJvbXB0KTtcblxuICAgICAgLy8gU3RlcCAyOiBUZXN0IHdpdGggdmFyaW91cyB0ZXh0IHNhbXBsZXNcbiAgICAgIGNvbnN0IHRlc3RUZXh0cyA9IFtcbiAgICAgICAgJ0kgYWJzb2x1dGVseSBsb3ZlIHRoaXMgbmV3IHByb2R1Y3QhIEl0IGV4Y2VlZGVkIGFsbCBteSBleHBlY3RhdGlvbnMuJyxcbiAgICAgICAgJ1RoZSBzZXJ2aWNlIHdhcyB0ZXJyaWJsZSBhbmQgSSB3aWxsIG5ldmVyIGNvbWUgYmFjay4nLFxuICAgICAgICAnVGhlIHdlYXRoZXIgdG9kYXkgaXMgcGFydGx5IGNsb3VkeSB3aXRoIGEgY2hhbmNlIG9mIHJhaW4uJ1xuICAgICAgXTtcblxuICAgICAgY29uc3QgcmVzdWx0cyA9IFtdO1xuICAgICAgZm9yIChjb25zdCB0ZXh0IG9mIHRlc3RUZXh0cykge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBsbG1NYW5hZ2VyLmV4ZWN1dGVXaXRoUHJvbXB0KCdzZW50aW1lbnQtYmFzaWMnLCB7IHRleHQgfSk7XG4gICAgICAgIHJlc3VsdHMucHVzaChyZXN1bHQpO1xuICAgICAgfVxuXG4gICAgICBleHBlY3QocmVzdWx0cykudG9IYXZlTGVuZ3RoKDMpO1xuICAgICAgcmVzdWx0cy5mb3JFYWNoKHJlc3VsdCA9PiB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQucHJvbXB0TWV0YWRhdGEucHJvbXB0SWQpLnRvQmUoJ3NlbnRpbWVudC1iYXNpYycpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmNvbnRlbnQpLnRvQ29udGFpbignc2VudGltZW50Jyk7XG4gICAgICB9KTtcblxuICAgICAgLy8gU3RlcCAzOiBDcmVhdGUgZW5oYW5jZWQgc2VudGltZW50IHByb21wdFxuICAgICAgY29uc3QgZW5oYW5jZWRTZW50aW1lbnRQcm9tcHQgPSB7XG4gICAgICAgIGNvbnRlbnQ6IGBBbmFseXplIHRoZSBzZW50aW1lbnQgb2YgdGhlIGZvbGxvd2luZyB0ZXh0IGFuZCBwcm92aWRlOlxuMS4gT3ZlcmFsbCBzZW50aW1lbnQgKFBvc2l0aXZlL05lZ2F0aXZlL05ldXRyYWwpXG4yLiBDb25maWRlbmNlIHNjb3JlICgwLTEwMCUpXG4zLiBLZXkgZW1vdGlvbmFsIGluZGljYXRvcnNcbjQuIFRvbmUgYXNzZXNzbWVudFxuXG5UZXh0OiB7e3RleHR9fWAsXG4gICAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgICAgZGVzY3JpcHRpb246ICdFbmhhbmNlZCBzZW50aW1lbnQgYW5hbHlzaXMgd2l0aCBkZXRhaWxlZCBicmVha2Rvd24nLFxuICAgICAgICAgIHRhZ3M6IFsnc2VudGltZW50JywgJ2FuYWx5c2lzJywgJ2RldGFpbGVkJ11cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgY29uc3QgZW5oYW5jZWQgPSBhd2FpdCBsbG1NYW5hZ2VyLnNhdmVQcm9tcHQoJ3NlbnRpbWVudC1iYXNpYycsIGVuaGFuY2VkU2VudGltZW50UHJvbXB0KTtcbiAgICAgIGV4cGVjdChlbmhhbmNlZC52ZXJzaW9uKS50b0JlKCcxLjAuMScpO1xuXG4gICAgICAvLyBTdGVwIDQ6IFRlc3QgZW5oYW5jZWQgdmVyc2lvblxuICAgICAgY29uc3QgZW5oYW5jZWRSZXN1bHQgPSBhd2FpdCBsbG1NYW5hZ2VyLmV4ZWN1dGVXaXRoUHJvbXB0KCdzZW50aW1lbnQtYmFzaWMnLCB7XG4gICAgICAgIHRleHQ6IHRlc3RUZXh0c1swXVxuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChlbmhhbmNlZFJlc3VsdC5wcm9tcHRNZXRhZGF0YS5wcm9tcHRWZXJzaW9uKS50b0JlKCcxLjAuMScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZW50aXR5IGV4dHJhY3Rpb24gd29ya2Zsb3cnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBTdGVwIDE6IENyZWF0ZSBlbnRpdHkgZXh0cmFjdGlvbiBwcm9tcHRcbiAgICAgIGNvbnN0IGVudGl0eVByb21wdCA9IHtcbiAgICAgICAgY29udGVudDogYEV4dHJhY3QgZW50aXRpZXMgZnJvbSB0aGUgZm9sbG93aW5nIHRleHQgYW5kIGNhdGVnb3JpemUgdGhlbTpcblxuVGV4dDoge3t0ZXh0fX1cblxuUGxlYXNlIGlkZW50aWZ5OlxuLSBQZW9wbGUgKG5hbWVzIG9mIGluZGl2aWR1YWxzKVxuLSBPcmdhbml6YXRpb25zIChjb21wYW5pZXMsIGluc3RpdHV0aW9ucylcbi0gTG9jYXRpb25zIChjaXRpZXMsIGNvdW50cmllcywgYWRkcmVzc2VzKVxuLSBEYXRlcyBhbmQgdGltZXNcbi0gT3RoZXIgcmVsZXZhbnQgZW50aXRpZXNcblxuRm9ybWF0IHlvdXIgcmVzcG9uc2UgYXMgYSBzdHJ1Y3R1cmVkIGxpc3QuYCxcbiAgICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ0NvbXByZWhlbnNpdmUgZW50aXR5IGV4dHJhY3Rpb24nLFxuICAgICAgICAgIHRhZ3M6IFsnZW50aXRpZXMnLCAnZXh0cmFjdGlvbicsICdubHAnXVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBhd2FpdCBsbG1NYW5hZ2VyLnNhdmVQcm9tcHQoJ2VudGl0eS1leHRyYWN0aW9uJywgZW50aXR5UHJvbXB0KTtcblxuICAgICAgLy8gU3RlcCAyOiBUZXN0IHdpdGggY29tcGxleCB0ZXh0XG4gICAgICBjb25zdCBjb21wbGV4VGV4dCA9IGBKb2huIFNtaXRoLCBDRU8gb2YgVGVjaENvcnAgSW5jLiwgYW5ub3VuY2VkIHllc3RlcmRheSB0aGF0IHRoZSBjb21wYW55IHdpbGwgb3BlbiBcbiAgICAgIGEgbmV3IGhlYWRxdWFydGVycyBpbiBTYW4gRnJhbmNpc2NvLCBDYWxpZm9ybmlhIGJ5IERlY2VtYmVyIDIwMjQuIFRoZSBhbm5vdW5jZW1lbnQgd2FzIG1hZGUgZHVyaW5nIFxuICAgICAgYSBwcmVzcyBjb25mZXJlbmNlIGF0IHRoZSBNYXJyaW90dCBIb3RlbCBvbiBNYXJrZXQgU3RyZWV0LiBTbWl0aCBtZW50aW9uZWQgdGhhdCB0aGUgbW92ZSB3aWxsIGNyZWF0ZSBcbiAgICAgIDUwMCBuZXcgam9icyBhbmQgc3RyZW5ndGhlbiBUZWNoQ29ycCdzIHByZXNlbmNlIG9uIHRoZSBXZXN0IENvYXN0LmA7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGxsbU1hbmFnZXIuZXhlY3V0ZVdpdGhQcm9tcHQoJ2VudGl0eS1leHRyYWN0aW9uJywge1xuICAgICAgICB0ZXh0OiBjb21wbGV4VGV4dFxuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQucHJvbXB0TWV0YWRhdGEucHJvbXB0SWQpLnRvQmUoJ2VudGl0eS1leHRyYWN0aW9uJyk7XG4gICAgICBleHBlY3QocmVzdWx0LmNvbnRlbnQpLnRvQ29udGFpbignZW50aXRpZXMnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQucHJvbXB0TWV0YWRhdGEudmFyaWFibGVzLnRleHQpLnRvQmUoY29tcGxleFRleHQpO1xuXG4gICAgICAvLyBTdGVwIDM6IFZlcmlmeSBwcm9tcHQgaGFzaCBmb3IgcmVwcm9kdWNpYmlsaXR5XG4gICAgICBjb25zdCBwcm9tcHQgPSBhd2FpdCBsbG1NYW5hZ2VyLmdldFByb21wdCgnZW50aXR5LWV4dHJhY3Rpb24nKTtcbiAgICAgIGNvbnN0IGhhc2gxID0gbGxtTWFuYWdlci5nZW5lcmF0ZVByb21wdEhhc2gocHJvbXB0KTtcbiAgICAgIFxuICAgICAgLy8gRXhlY3V0ZSBhZ2FpbiB3aXRoIHNhbWUgcHJvbXB0XG4gICAgICBjb25zdCByZXN1bHQyID0gYXdhaXQgbGxtTWFuYWdlci5leGVjdXRlV2l0aFByb21wdCgnZW50aXR5LWV4dHJhY3Rpb24nLCB7XG4gICAgICAgIHRleHQ6IGNvbXBsZXhUZXh0XG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdDIucHJvbXB0TWV0YWRhdGEucHJvbXB0SGFzaCkudG9CZShoYXNoMSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdNdWx0aS1Qcm9tcHQgV29ya2Zsb3dzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGFuZGxlIGRvY3VtZW50IHByb2Nlc3NpbmcgcGlwZWxpbmUgd2l0aCBtdWx0aXBsZSBwcm9tcHRzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gU3RlcCAxOiBDcmVhdGUgbXVsdGlwbGUgc3BlY2lhbGl6ZWQgcHJvbXB0c1xuICAgICAgY29uc3QgcHJvbXB0cyA9IHtcbiAgICAgICAgJ2NvbnRlbnQtZXh0cmFjdGlvbic6IHtcbiAgICAgICAgICBjb250ZW50OiAnRXh0cmFjdCB0aGUgbWFpbiBjb250ZW50IGFuZCBrZXkgaW5mb3JtYXRpb24gZnJvbToge3tkb2N1bWVudH19JyxcbiAgICAgICAgICBtZXRhZGF0YTogeyBkZXNjcmlwdGlvbjogJ0NvbnRlbnQgZXh0cmFjdGlvbicsIHRhZ3M6IFsnZXh0cmFjdGlvbiddIH1cbiAgICAgICAgfSxcbiAgICAgICAgJ3N1bW1hcnktZ2VuZXJhdGlvbic6IHtcbiAgICAgICAgICBjb250ZW50OiAnU3VtbWFyaXplIHRoZSBmb2xsb3dpbmcgZXh0cmFjdGVkIGNvbnRlbnQ6IHt7Y29udGVudH19JyxcbiAgICAgICAgICBtZXRhZGF0YTogeyBkZXNjcmlwdGlvbjogJ1N1bW1hcnkgZ2VuZXJhdGlvbicsIHRhZ3M6IFsnc3VtbWFyeSddIH1cbiAgICAgICAgfSxcbiAgICAgICAgJ2tleS1pbnNpZ2h0cyc6IHtcbiAgICAgICAgICBjb250ZW50OiAnSWRlbnRpZnkga2V5IGluc2lnaHRzIGFuZCByZWNvbW1lbmRhdGlvbnMgZnJvbToge3tzdW1tYXJ5fX0nLFxuICAgICAgICAgIG1ldGFkYXRhOiB7IGRlc2NyaXB0aW9uOiAnSW5zaWdodCBleHRyYWN0aW9uJywgdGFnczogWydpbnNpZ2h0cyddIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgLy8gU2F2ZSBhbGwgcHJvbXB0c1xuICAgICAgZm9yIChjb25zdCBbaWQsIHByb21wdERhdGFdIG9mIE9iamVjdC5lbnRyaWVzKHByb21wdHMpKSB7XG4gICAgICAgIGF3YWl0IGxsbU1hbmFnZXIuc2F2ZVByb21wdChpZCwgcHJvbXB0RGF0YSk7XG4gICAgICB9XG5cbiAgICAgIC8vIFN0ZXAgMjogRXhlY3V0ZSBwaXBlbGluZVxuICAgICAgY29uc3Qgb3JpZ2luYWxEb2N1bWVudCA9IGBUaGlzIHF1YXJ0ZXJseSByZXBvcnQgc2hvd3Mgc2lnbmlmaWNhbnQgZ3Jvd3RoIGluIG91ciBzb2Z0d2FyZSBkaXZpc2lvbiwgXG4gICAgICB3aXRoIHJldmVudWUgaW5jcmVhc2luZyBieSAyNSUgeWVhci1vdmVyLXllYXIuIEN1c3RvbWVyIHNhdGlzZmFjdGlvbiBzY29yZXMgaGF2ZSBpbXByb3ZlZCB0byA0LjIvNS4wLCBcbiAgICAgIGFuZCBvdXIgbmV3IEFJIGZlYXR1cmVzIGhhdmUgYmVlbiBhZG9wdGVkIGJ5IDc4JSBvZiBlbnRlcnByaXNlIGNsaWVudHMuIEhvd2V2ZXIsIHdlIGZhY2UgY2hhbGxlbmdlcyBcbiAgICAgIGluIHRoZSBtb2JpbGUgc2VnbWVudCB3aGVyZSBjb21wZXRpdGlvbiBoYXMgaW50ZW5zaWZpZWQuYDtcblxuICAgICAgLy8gRXh0cmFjdCBjb250ZW50XG4gICAgICBjb25zdCBleHRyYWN0aW9uID0gYXdhaXQgbGxtTWFuYWdlci5leGVjdXRlV2l0aFByb21wdCgnY29udGVudC1leHRyYWN0aW9uJywge1xuICAgICAgICBkb2N1bWVudDogb3JpZ2luYWxEb2N1bWVudFxuICAgICAgfSk7XG5cbiAgICAgIC8vIEdlbmVyYXRlIHN1bW1hcnlcbiAgICAgIGNvbnN0IHN1bW1hcnkgPSBhd2FpdCBsbG1NYW5hZ2VyLmV4ZWN1dGVXaXRoUHJvbXB0KCdzdW1tYXJ5LWdlbmVyYXRpb24nLCB7XG4gICAgICAgIGNvbnRlbnQ6IGV4dHJhY3Rpb24uY29udGVudFxuICAgICAgfSk7XG5cbiAgICAgIC8vIEV4dHJhY3QgaW5zaWdodHNcbiAgICAgIGNvbnN0IGluc2lnaHRzID0gYXdhaXQgbGxtTWFuYWdlci5leGVjdXRlV2l0aFByb21wdCgna2V5LWluc2lnaHRzJywge1xuICAgICAgICBzdW1tYXJ5OiBzdW1tYXJ5LmNvbnRlbnRcbiAgICAgIH0pO1xuXG4gICAgICAvLyBWZXJpZnkgcGlwZWxpbmUgZXhlY3V0aW9uXG4gICAgICBleHBlY3QoZXh0cmFjdGlvbi5wcm9tcHRNZXRhZGF0YS5wcm9tcHRJZCkudG9CZSgnY29udGVudC1leHRyYWN0aW9uJyk7XG4gICAgICBleHBlY3Qoc3VtbWFyeS5wcm9tcHRNZXRhZGF0YS5wcm9tcHRJZCkudG9CZSgnc3VtbWFyeS1nZW5lcmF0aW9uJyk7XG4gICAgICBleHBlY3QoaW5zaWdodHMucHJvbXB0TWV0YWRhdGEucHJvbXB0SWQpLnRvQmUoJ2tleS1pbnNpZ2h0cycpO1xuXG4gICAgICAvLyBBbGwgc2hvdWxkIGhhdmUgdmVyc2lvbiAxLjAuMFxuICAgICAgZXhwZWN0KGV4dHJhY3Rpb24ucHJvbXB0TWV0YWRhdGEucHJvbXB0VmVyc2lvbikudG9CZSgnMS4wLjAnKTtcbiAgICAgIGV4cGVjdChzdW1tYXJ5LnByb21wdE1ldGFkYXRhLnByb21wdFZlcnNpb24pLnRvQmUoJzEuMC4wJyk7XG4gICAgICBleHBlY3QoaW5zaWdodHMucHJvbXB0TWV0YWRhdGEucHJvbXB0VmVyc2lvbikudG9CZSgnMS4wLjAnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIHByb21wdCB2ZXJzaW9uaW5nIGFjcm9zcyB3b3JrZmxvdyBpdGVyYXRpb25zJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gU3RlcCAxOiBDcmVhdGUgaW5pdGlhbCB3b3JrZmxvdyBwcm9tcHRzXG4gICAgICBhd2FpdCBsbG1NYW5hZ2VyLnNhdmVQcm9tcHQoJ2FuYWx5emUtc3RlcDEnLCB7XG4gICAgICAgIGNvbnRlbnQ6ICdTdGVwIDE6IEFuYWx5emUge3tpbnB1dH19JyxcbiAgICAgICAgbWV0YWRhdGE6IHsgZGVzY3JpcHRpb246ICdBbmFseXNpcyBzdGVwIDEnIH1cbiAgICAgIH0pO1xuXG4gICAgICBhd2FpdCBsbG1NYW5hZ2VyLnNhdmVQcm9tcHQoJ2FuYWx5emUtc3RlcDInLCB7XG4gICAgICAgIGNvbnRlbnQ6ICdTdGVwIDI6IFByb2Nlc3Mge3tzdGVwMV9yZXN1bHR9fScsXG4gICAgICAgIG1ldGFkYXRhOiB7IGRlc2NyaXB0aW9uOiAnQW5hbHlzaXMgc3RlcCAyJyB9XG4gICAgICB9KTtcblxuICAgICAgLy8gU3RlcCAyOiBFeGVjdXRlIGluaXRpYWwgd29ya2Zsb3dcbiAgICAgIGNvbnN0IHN0ZXAxX3YxID0gYXdhaXQgbGxtTWFuYWdlci5leGVjdXRlV2l0aFByb21wdCgnYW5hbHl6ZS1zdGVwMScsIHtcbiAgICAgICAgaW5wdXQ6ICdJbml0aWFsIGRhdGEnXG4gICAgICB9KTtcblxuICAgICAgY29uc3Qgc3RlcDJfdjEgPSBhd2FpdCBsbG1NYW5hZ2VyLmV4ZWN1dGVXaXRoUHJvbXB0KCdhbmFseXplLXN0ZXAyJywge1xuICAgICAgICBzdGVwMV9yZXN1bHQ6IHN0ZXAxX3YxLmNvbnRlbnRcbiAgICAgIH0pO1xuXG4gICAgICAvLyBTdGVwIDM6IFVwZGF0ZSBwcm9tcHRzXG4gICAgICBhd2FpdCBsbG1NYW5hZ2VyLnNhdmVQcm9tcHQoJ2FuYWx5emUtc3RlcDEnLCB7XG4gICAgICAgIGNvbnRlbnQ6ICdTdGVwIDEgRW5oYW5jZWQ6IFRob3JvdWdobHkgYW5hbHl6ZSB7e2lucHV0fX0gd2l0aCBkZXRhaWxlZCBicmVha2Rvd24nLFxuICAgICAgICBtZXRhZGF0YTogeyBkZXNjcmlwdGlvbjogJ0VuaGFuY2VkIGFuYWx5c2lzIHN0ZXAgMScgfVxuICAgICAgfSk7XG5cbiAgICAgIGF3YWl0IGxsbU1hbmFnZXIuc2F2ZVByb21wdCgnYW5hbHl6ZS1zdGVwMicsIHtcbiAgICAgICAgY29udGVudDogJ1N0ZXAgMiBFbmhhbmNlZDogQ29tcHJlaGVuc2l2ZWx5IHByb2Nlc3Mge3tzdGVwMV9yZXN1bHR9fSB3aXRoIHJlY29tbWVuZGF0aW9ucycsXG4gICAgICAgIG1ldGFkYXRhOiB7IGRlc2NyaXB0aW9uOiAnRW5oYW5jZWQgYW5hbHlzaXMgc3RlcCAyJyB9XG4gICAgICB9KTtcblxuICAgICAgLy8gU3RlcCA0OiBFeGVjdXRlIHVwZGF0ZWQgd29ya2Zsb3dcbiAgICAgIGNvbnN0IHN0ZXAxX3YyID0gYXdhaXQgbGxtTWFuYWdlci5leGVjdXRlV2l0aFByb21wdCgnYW5hbHl6ZS1zdGVwMScsIHtcbiAgICAgICAgaW5wdXQ6ICdJbml0aWFsIGRhdGEnXG4gICAgICB9KTtcblxuICAgICAgY29uc3Qgc3RlcDJfdjIgPSBhd2FpdCBsbG1NYW5hZ2VyLmV4ZWN1dGVXaXRoUHJvbXB0KCdhbmFseXplLXN0ZXAyJywge1xuICAgICAgICBzdGVwMV9yZXN1bHQ6IHN0ZXAxX3YyLmNvbnRlbnRcbiAgICAgIH0pO1xuXG4gICAgICAvLyBWZXJpZnkgdmVyc2lvbiBwcm9ncmVzc2lvblxuICAgICAgZXhwZWN0KHN0ZXAxX3YxLnByb21wdE1ldGFkYXRhLnByb21wdFZlcnNpb24pLnRvQmUoJzEuMC4wJyk7XG4gICAgICBleHBlY3Qoc3RlcDJfdjEucHJvbXB0TWV0YWRhdGEucHJvbXB0VmVyc2lvbikudG9CZSgnMS4wLjAnKTtcbiAgICAgIGV4cGVjdChzdGVwMV92Mi5wcm9tcHRNZXRhZGF0YS5wcm9tcHRWZXJzaW9uKS50b0JlKCcxLjAuMScpO1xuICAgICAgZXhwZWN0KHN0ZXAyX3YyLnByb21wdE1ldGFkYXRhLnByb21wdFZlcnNpb24pLnRvQmUoJzEuMC4xJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdFcnJvciBSZWNvdmVyeSBhbmQgRWRnZSBDYXNlcycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBtaXNzaW5nIHZhcmlhYmxlIHN1YnN0aXR1dGlvbiBncmFjZWZ1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcHJvbXB0V2l0aE1pc3NpbmdWYXJzID0ge1xuICAgICAgICBjb250ZW50OiAnUHJvY2VzcyB7e2F2YWlsYWJsZV92YXJ9fSBhbmQgYWxzbyB7e21pc3NpbmdfdmFyfX0nLFxuICAgICAgICBtZXRhZGF0YTogeyBkZXNjcmlwdGlvbjogJ1Rlc3QgbWlzc2luZyB2YXJpYWJsZXMnIH1cbiAgICAgIH07XG5cbiAgICAgIGF3YWl0IGxsbU1hbmFnZXIuc2F2ZVByb21wdCgnbWlzc2luZy12YXJzJywgcHJvbXB0V2l0aE1pc3NpbmdWYXJzKTtcblxuICAgICAgLy8gRXhlY3V0ZSB3aXRoIG9ubHkgcGFydGlhbCB2YXJpYWJsZXNcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGxsbU1hbmFnZXIuZXhlY3V0ZVdpdGhQcm9tcHQoJ21pc3NpbmctdmFycycsIHtcbiAgICAgICAgYXZhaWxhYmxlX3ZhcjogJ3Byb3ZpZGVkIHZhbHVlJ1xuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQucHJvbXB0TWV0YWRhdGEucHJvbXB0SWQpLnRvQmUoJ21pc3NpbmctdmFycycpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5wcm9tcHRNZXRhZGF0YS52YXJpYWJsZXMuYXZhaWxhYmxlX3ZhcikudG9CZSgncHJvdmlkZWQgdmFsdWUnKTtcbiAgICAgIC8vIFNob3VsZCBzdGlsbCBleGVjdXRlIGRlc3BpdGUgbWlzc2luZyB2YXJpYWJsZVxuICAgICAgZXhwZWN0KHJlc3VsdC5jb250ZW50KS50b0JlRGVmaW5lZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgcHJvbXB0IGV4ZWN1dGlvbiBmYWlsdXJlcyBncmFjZWZ1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gTW9jayBmZXRjaCB0byBmYWlsXG4gICAgICBnbG9iYWwuZmV0Y2ggPSBqZXN0LmZuKCkubW9ja1JlamVjdGVkVmFsdWUobmV3IEVycm9yKCdOZXR3b3JrIGVycm9yJykpO1xuXG4gICAgICBjb25zdCB0ZXN0UHJvbXB0ID0ge1xuICAgICAgICBjb250ZW50OiAnVGhpcyB3aWxsIGZhaWw6IHt7aW5wdXR9fScsXG4gICAgICAgIG1ldGFkYXRhOiB7IGRlc2NyaXB0aW9uOiAnRmFpbHVyZSB0ZXN0JyB9XG4gICAgICB9O1xuXG4gICAgICBhd2FpdCBsbG1NYW5hZ2VyLnNhdmVQcm9tcHQoJ2ZhaWwtdGVzdCcsIHRlc3RQcm9tcHQpO1xuXG4gICAgICBhd2FpdCBleHBlY3QobGxtTWFuYWdlci5leGVjdXRlV2l0aFByb21wdCgnZmFpbC10ZXN0JywgeyBpbnB1dDogJ3Rlc3QnIH0pKVxuICAgICAgICAucmVqZWN0cy50b1Rocm93KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBsYXJnZSBwcm9tcHQgY29udGVudCcsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIENyZWF0ZSBhIGxhcmdlIHByb21wdFxuICAgICAgY29uc3QgbGFyZ2VDb250ZW50ID0gJ0FuYWx5emUgdGhlIGZvbGxvd2luZyBsYXJnZSBkb2N1bWVudDoge3tjb250ZW50fX1cXG4nICsgXG4gICAgICAgICdBZGRpdGlvbmFsIGluc3RydWN0aW9uczogJy5yZXBlYXQoMTAwKSArIFxuICAgICAgICAnUGxlYXNlIHByb3ZpZGUgZGV0YWlsZWQgYW5hbHlzaXMgY292ZXJpbmcgYWxsIGFzcGVjdHMgbWVudGlvbmVkIGFib3ZlLic7XG5cbiAgICAgIGNvbnN0IGxhcmdlUHJvbXB0ID0ge1xuICAgICAgICBjb250ZW50OiBsYXJnZUNvbnRlbnQsXG4gICAgICAgIG1ldGFkYXRhOiB7IGRlc2NyaXB0aW9uOiAnTGFyZ2UgcHJvbXB0IHRlc3QnIH1cbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHNhdmVkID0gYXdhaXQgbGxtTWFuYWdlci5zYXZlUHJvbXB0KCdsYXJnZS1wcm9tcHQnLCBsYXJnZVByb21wdCk7XG4gICAgICBleHBlY3Qoc2F2ZWQuY29udGVudC5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigxMDAwKTtcblxuICAgICAgLy8gRXhlY3V0ZSB3aXRoIGxhcmdlIGNvbnRlbnRcbiAgICAgIGNvbnN0IGxhcmdlRG9jdW1lbnQgPSAnRG9jdW1lbnQgY29udGVudDogJy5yZXBlYXQoMjAwKTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGxsbU1hbmFnZXIuZXhlY3V0ZVdpdGhQcm9tcHQoJ2xhcmdlLXByb21wdCcsIHtcbiAgICAgICAgY29udGVudDogbGFyZ2VEb2N1bWVudFxuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQucHJvbXB0TWV0YWRhdGEucHJvbXB0SWQpLnRvQmUoJ2xhcmdlLXByb21wdCcpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnUGVyZm9ybWFuY2UgYW5kIENvbmN1cnJlbmN5JywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGFuZGxlIGNvbmN1cnJlbnQgcHJvbXB0IGV4ZWN1dGlvbnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBDcmVhdGUgdGVzdCBwcm9tcHRcbiAgICAgIGF3YWl0IGxsbU1hbmFnZXIuc2F2ZVByb21wdCgnY29uY3VycmVudC10ZXN0Jywge1xuICAgICAgICBjb250ZW50OiAnUHJvY2Vzczoge3tkYXRhfX0nLFxuICAgICAgICBtZXRhZGF0YTogeyBkZXNjcmlwdGlvbjogJ0NvbmN1cnJlbmN5IHRlc3QnIH1cbiAgICAgIH0pO1xuXG4gICAgICAvLyBFeGVjdXRlIG11bHRpcGxlIHByb21wdHMgY29uY3VycmVudGx5XG4gICAgICBjb25zdCBwcm9taXNlcyA9IFtdO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA1OyBpKyspIHtcbiAgICAgICAgcHJvbWlzZXMucHVzaChcbiAgICAgICAgICBsbG1NYW5hZ2VyLmV4ZWN1dGVXaXRoUHJvbXB0KCdjb25jdXJyZW50LXRlc3QnLCB7XG4gICAgICAgICAgICBkYXRhOiBgRGF0YXNldCAke2l9YFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHRzKS50b0hhdmVMZW5ndGgoNSk7XG4gICAgICByZXN1bHRzLmZvckVhY2goKHJlc3VsdCwgaW5kZXgpID0+IHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5wcm9tcHRNZXRhZGF0YS5wcm9tcHRJZCkudG9CZSgnY29uY3VycmVudC10ZXN0Jyk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQucHJvbXB0TWV0YWRhdGEudmFyaWFibGVzLmRhdGEpLnRvQmUoYERhdGFzZXQgJHtpbmRleH1gKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBtYWludGFpbiBwcm9tcHQgaW50ZWdyaXR5IHVuZGVyIGNvbmN1cnJlbnQgdXBkYXRlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIENyZWF0ZSBpbml0aWFsIHByb21wdFxuICAgICAgYXdhaXQgbGxtTWFuYWdlci5zYXZlUHJvbXB0KCd1cGRhdGUtdGVzdCcsIHtcbiAgICAgICAgY29udGVudDogJ1ZlcnNpb24gMCcsXG4gICAgICAgIG1ldGFkYXRhOiB7IGRlc2NyaXB0aW9uOiAnVXBkYXRlIHRlc3QnIH1cbiAgICAgIH0pO1xuXG4gICAgICAvLyBDb25jdXJyZW50IHVwZGF0ZXNcbiAgICAgIGNvbnN0IHVwZGF0ZVByb21pc2VzID0gW107XG4gICAgICBmb3IgKGxldCBpID0gMTsgaSA8PSAzOyBpKyspIHtcbiAgICAgICAgdXBkYXRlUHJvbWlzZXMucHVzaChcbiAgICAgICAgICBsbG1NYW5hZ2VyLnNhdmVQcm9tcHQoJ3VwZGF0ZS10ZXN0Jywge1xuICAgICAgICAgICAgY29udGVudDogYFZlcnNpb24gJHtpfWAsXG4gICAgICAgICAgICBtZXRhZGF0YTogeyBkZXNjcmlwdGlvbjogYFVwZGF0ZSB0ZXN0IHYke2l9YCB9XG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgdXBkYXRlcyA9IGF3YWl0IFByb21pc2UuYWxsKHVwZGF0ZVByb21pc2VzKTtcblxuICAgICAgLy8gVmVyaWZ5IGZpbmFsIHN0YXRlXG4gICAgICBjb25zdCBmaW5hbFByb21wdCA9IGF3YWl0IGxsbU1hbmFnZXIuZ2V0UHJvbXB0KCd1cGRhdGUtdGVzdCcpO1xuICAgICAgZXhwZWN0KGZpbmFsUHJvbXB0LnZlcnNpb24pLnRvTWF0Y2goL14xXFwuMFxcLlsxLTNdJC8pOyAvLyBTaG91bGQgYmUgb25lIG9mIHRoZSB2ZXJzaW9uc1xuICAgICAgXG4gICAgICAvLyBBbGwgdXBkYXRlcyBzaG91bGQgaGF2ZSBkaWZmZXJlbnQgdmVyc2lvbnNcbiAgICAgIGNvbnN0IHZlcnNpb25zID0gdXBkYXRlcy5tYXAodSA9PiB1LnZlcnNpb24pO1xuICAgICAgY29uc3QgdW5pcXVlVmVyc2lvbnMgPSBuZXcgU2V0KHZlcnNpb25zKTtcbiAgICAgIGV4cGVjdCh1bmlxdWVWZXJzaW9ucy5zaXplKS50b0JlKDMpOyAvLyBBbGwgdmVyc2lvbnMgc2hvdWxkIGJlIHVuaXF1ZVxuICAgIH0pO1xuICB9KTtcbn0pO1xuIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxvQkFBb0IsR0FBR0MsT0FBTyxDQUFDLDhDQUE4QyxDQUFDO0FBQ3BGLE1BQU1DLGtCQUFrQixHQUFHRCxPQUFPLENBQUMsNENBQTRDLENBQUM7QUFDaEYsTUFBTUUsRUFBRSxHQUFHRixPQUFPLENBQUMsSUFBSSxDQUFDLENBQUNHLFFBQVE7QUFDakMsTUFBTUMsSUFBSSxHQUFHSixPQUFPLENBQUMsTUFBTSxDQUFD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