{"version":3,"names":["LOG_LEVELS","ERROR","WARN","INFO","DEBUG","Logger","constructor","options","level","process","env","LOG_LEVEL","service","enableConsole","_shouldLog","toUpperCase","_formatMessage","message","meta","timestamp","Date","toISOString","logEntry","colorMap","resetColor","color","console","log","error","warn","info","debug","logger","module","exports"],"sources":["logger.js"],"sourcesContent":["/**\n * Logger utility for TheWell Pipeline\n * Provides structured logging with different levels\n */\n\nconst LOG_LEVELS = {\n  ERROR: 0,\n  WARN: 1,\n  INFO: 2,\n  DEBUG: 3\n};\n\nclass Logger {\n  constructor(options = {}) {\n    this.level = options.level || process.env.LOG_LEVEL || 'INFO';\n    this.service = options.service || 'thewell-pipeline';\n    this.enableConsole = options.enableConsole !== false;\n  }\n\n  _shouldLog(level) {\n    return LOG_LEVELS[level.toUpperCase()] <= LOG_LEVELS[this.level.toUpperCase()];\n  }\n\n  _formatMessage(level, message, meta = {}) {\n    const timestamp = new Date().toISOString();\n    const logEntry = {\n      timestamp,\n      level: level.toUpperCase(),\n      service: this.service,\n      message,\n      ...meta\n    };\n\n    if (this.enableConsole) {\n      const colorMap = {\n        ERROR: '\\x1b[31m', // Red\n        WARN: '\\x1b[33m',  // Yellow\n        INFO: '\\x1b[36m',  // Cyan\n        DEBUG: '\\x1b[37m'  // White\n      };\n      const resetColor = '\\x1b[0m';\n      const color = colorMap[level.toUpperCase()] || '';\n      \n      console.log(`${color}[${timestamp}] ${level.toUpperCase()}: ${message}${resetColor}`, meta);\n    }\n\n    return logEntry;\n  }\n\n  error(message, meta = {}) {\n    if (this._shouldLog('ERROR')) {\n      return this._formatMessage('ERROR', message, meta);\n    }\n  }\n\n  warn(message, meta = {}) {\n    if (this._shouldLog('WARN')) {\n      return this._formatMessage('WARN', message, meta);\n    }\n  }\n\n  info(message, meta = {}) {\n    if (this._shouldLog('INFO')) {\n      return this._formatMessage('INFO', message, meta);\n    }\n  }\n\n  debug(message, meta = {}) {\n    if (this._shouldLog('DEBUG')) {\n      return this._formatMessage('DEBUG', message, meta);\n    }\n  }\n}\n\n// Create default logger instance\nconst logger = new Logger();\n\nmodule.exports = logger;"],"mappings":"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","ignoreList":[]}