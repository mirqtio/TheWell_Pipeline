77ecdaa9d912cd67d7e6f1d247602885
/**
 * Optimized Jest setup for E2E tests
 * Reduces logging and speeds up test execution
 */

// Set environment variables BEFORE importing base setup
process.env.E2E_OPTIMIZED = 'true';
process.env.HEALTH_CHECK_INTERVAL = '5000'; // Reduce from 30s to 5s
process.env.CIRCUIT_BREAKER_TIMEOUT = '5000'; // Reduce timeouts
process.env.CONFIG_WATCH_DEBOUNCE = '100'; // Faster config updates

// Optimize database connections for E2E
process.env.DB_POOL_SIZE = '2';
process.env.DB_IDLE_TIMEOUT = '1000';

// Faster Redis operations
process.env.REDIS_CONNECT_TIMEOUT = '2000';
process.env.REDIS_COMMAND_TIMEOUT = '1000';

// Import base setup AFTER setting environment variables
require('./jest.setup.js');

// Optimize logging for E2E tests
const originalConsole = global.console;

// Suppress verbose logging during E2E tests unless DEBUG is set
if (!process.env.DEBUG) {
  global.console = {
    ...originalConsole,
    log: () => {},
    // Suppress info logs
    info: () => {},
    // Suppress info logs  
    debug: () => {},
    // Suppress debug logs
    warn: originalConsole.warn,
    // Keep warnings
    error: originalConsole.error // Keep errors
  };
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwcm9jZXNzIiwiZW52IiwiRTJFX09QVElNSVpFRCIsIkhFQUxUSF9DSEVDS19JTlRFUlZBTCIsIkNJUkNVSVRfQlJFQUtFUl9USU1FT1VUIiwiQ09ORklHX1dBVENIX0RFQk9VTkNFIiwiREJfUE9PTF9TSVpFIiwiREJfSURMRV9USU1FT1VUIiwiUkVESVNfQ09OTkVDVF9USU1FT1VUIiwiUkVESVNfQ09NTUFORF9USU1FT1VUIiwicmVxdWlyZSIsIm9yaWdpbmFsQ29uc29sZSIsImdsb2JhbCIsImNvbnNvbGUiLCJERUJVRyIsImxvZyIsImluZm8iLCJkZWJ1ZyIsIndhcm4iLCJlcnJvciJdLCJzb3VyY2VzIjpbImplc3QuZTJlLnNldHVwLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogT3B0aW1pemVkIEplc3Qgc2V0dXAgZm9yIEUyRSB0ZXN0c1xuICogUmVkdWNlcyBsb2dnaW5nIGFuZCBzcGVlZHMgdXAgdGVzdCBleGVjdXRpb25cbiAqL1xuXG4vLyBTZXQgZW52aXJvbm1lbnQgdmFyaWFibGVzIEJFRk9SRSBpbXBvcnRpbmcgYmFzZSBzZXR1cFxucHJvY2Vzcy5lbnYuRTJFX09QVElNSVpFRCA9ICd0cnVlJztcbnByb2Nlc3MuZW52LkhFQUxUSF9DSEVDS19JTlRFUlZBTCA9ICc1MDAwJzsgIC8vIFJlZHVjZSBmcm9tIDMwcyB0byA1c1xucHJvY2Vzcy5lbnYuQ0lSQ1VJVF9CUkVBS0VSX1RJTUVPVVQgPSAnNTAwMCc7IC8vIFJlZHVjZSB0aW1lb3V0c1xucHJvY2Vzcy5lbnYuQ09ORklHX1dBVENIX0RFQk9VTkNFID0gJzEwMCc7ICAgIC8vIEZhc3RlciBjb25maWcgdXBkYXRlc1xuXG4vLyBPcHRpbWl6ZSBkYXRhYmFzZSBjb25uZWN0aW9ucyBmb3IgRTJFXG5wcm9jZXNzLmVudi5EQl9QT09MX1NJWkUgPSAnMic7XG5wcm9jZXNzLmVudi5EQl9JRExFX1RJTUVPVVQgPSAnMTAwMCc7XG5cbi8vIEZhc3RlciBSZWRpcyBvcGVyYXRpb25zXG5wcm9jZXNzLmVudi5SRURJU19DT05ORUNUX1RJTUVPVVQgPSAnMjAwMCc7XG5wcm9jZXNzLmVudi5SRURJU19DT01NQU5EX1RJTUVPVVQgPSAnMTAwMCc7XG5cbi8vIEltcG9ydCBiYXNlIHNldHVwIEFGVEVSIHNldHRpbmcgZW52aXJvbm1lbnQgdmFyaWFibGVzXG5yZXF1aXJlKCcuL2plc3Quc2V0dXAuanMnKTtcblxuLy8gT3B0aW1pemUgbG9nZ2luZyBmb3IgRTJFIHRlc3RzXG5jb25zdCBvcmlnaW5hbENvbnNvbGUgPSBnbG9iYWwuY29uc29sZTtcblxuLy8gU3VwcHJlc3MgdmVyYm9zZSBsb2dnaW5nIGR1cmluZyBFMkUgdGVzdHMgdW5sZXNzIERFQlVHIGlzIHNldFxuaWYgKCFwcm9jZXNzLmVudi5ERUJVRykge1xuICBnbG9iYWwuY29uc29sZSA9IHtcbiAgICAuLi5vcmlnaW5hbENvbnNvbGUsXG4gICAgbG9nOiAoKSA9PiB7fSwgICAgICAvLyBTdXBwcmVzcyBpbmZvIGxvZ3NcbiAgICBpbmZvOiAoKSA9PiB7fSwgICAgIC8vIFN1cHByZXNzIGluZm8gbG9ncyAgXG4gICAgZGVidWc6ICgpID0+IHt9LCAgICAvLyBTdXBwcmVzcyBkZWJ1ZyBsb2dzXG4gICAgd2Fybjogb3JpZ2luYWxDb25zb2xlLndhcm4sICAgLy8gS2VlcCB3YXJuaW5nc1xuICAgIGVycm9yOiBvcmlnaW5hbENvbnNvbGUuZXJyb3IgIC8vIEtlZXAgZXJyb3JzXG4gIH07XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0FBLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxhQUFhLEdBQUcsTUFBTTtBQUNsQ0YsT0FBTyxDQUFDQyxHQUFHLENBQUNFLHFCQUFxQixHQUFHLE1BQU0sQ0FBQyxDQUFFO0FBQzdDSCxPQUFPLENBQUNDLEdBQUcsQ0FBQ0csdUJBQXVCLEdBQUcsTUFBTSxDQUFDLENBQUM7QUFDOUNKLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDSSxxQkFBcUIsR0FBRyxLQUFLLENBQUMsQ0FBSTs7QUFFOUM7QUFDQUwsT0FBTyxDQUFDQyxHQUFHLENBQUNLLFlBQVksR0FBRyxHQUFHO0FBQzlCTixPQUFPLENBQUNDLEdBQUcsQ0FBQ00sZUFBZSxHQUFHLE1BQU07O0FBRXBDO0FBQ0FQLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDTyxxQkFBcUIsR0FBRyxNQUFNO0FBQzFDUixPQUFPLENBQUNDLEdBQUcsQ0FBQ1EscUJBQXFCLEdBQUcsTUFBTTs7QUFFMUM7QUFDQUMsT0FBTyxDQUFDLGlCQUFpQixDQUFDOztBQUUxQjtBQUNBLE1BQU1DLGVBQWUsR0FBR0MsTUFBTSxDQUFDQyxPQUFPOztBQUV0QztBQUNBLElBQUksQ0FBQ2IsT0FBTyxDQUFDQyxHQUFHLENBQUNhLEtBQUssRUFBRTtFQUN0QkYsTUFBTSxDQUFDQyxPQUFPLEdBQUc7SUFDZixHQUFHRixlQUFlO0lBQ2xCSSxHQUFHLEVBQUVBLENBQUEsS0FBTSxDQUFDLENBQUM7SUFBTztJQUNwQkMsSUFBSSxFQUFFQSxDQUFBLEtBQU0sQ0FBQyxDQUFDO0lBQU07SUFDcEJDLEtBQUssRUFBRUEsQ0FBQSxLQUFNLENBQUMsQ0FBQztJQUFLO0lBQ3BCQyxJQUFJLEVBQUVQLGVBQWUsQ0FBQ08sSUFBSTtJQUFJO0lBQzlCQyxLQUFLLEVBQUVSLGVBQWUsQ0FBQ1EsS0FBSyxDQUFFO0VBQ2hDLENBQUM7QUFDSCIsImlnbm9yZUxpc3QiOltdfQ==